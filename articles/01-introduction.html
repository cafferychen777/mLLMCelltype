<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to mLLMCelltype • mLLMCelltype</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Fira_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to mLLMCelltype">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
<style>
  /* Fix for navbar overlapping main content */
  main {
    padding-top: 70px; /* Adjust this value as needed */
  }
  /* Improve spacing for better readability */
  .page-header {
    margin-top: 20px;
  }
  /* Ensure content has enough space from the top on mobile */
  @media (max-width: 767px) {
    main {
      padding-top: 80px; /* Slightly more padding on mobile */
    }
  }
  /* Better spacing for section headers */
  h2, h3, h4 {
    margin-top: 2rem;
    margin-bottom: 1rem;
  }
</style>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mLLMCelltype</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/01-introduction.html">Introduction</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Function Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/index.html">All Articles</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/01-introduction.html">Introduction to mLLMCelltype</a></li>
    <li><a class="dropdown-item" href="../articles/02-installation.html">Installation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/03-getting-started.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Usage and Features</h6></li>
    <li><a class="dropdown-item" href="../articles/04-usage-tutorial.html">Usage Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/05-consensus-principles.html">Consensus Annotation Principles</a></li>
    <li><a class="dropdown-item" href="../articles/06-visualization-guide.html">Visualization Guide</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Topics</h6></li>
    <li><a class="dropdown-item" href="../articles/07-faq.html">Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/08-advanced-features.html">Advanced Features &amp; Case Studies</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Development</h6></li>
    <li><a class="dropdown-item" href="../articles/09-contributing-guide.html">Contributing Guide</a></li>
    <li><a class="dropdown-item" href="../articles/10-version-history.html">Version History &amp; Changelog</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://www.biorxiv.org/content/10.1101/2025.04.10.647852v1" aria-label="Paper"><span class="bi bi-file-earmark-text"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cafferychen777/mLLMCelltype" aria-label="GitHub"><span class="bi bi-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to mLLMCelltype</h1>
                        <h4 data-toc-skip class="author">Chen Yang</h4>
            
            <h4 data-toc-skip class="date">2025-04-28</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/cafferychen777/mLLMCelltype/blob/dev/vignettes/01-introduction.Rmd" class="external-link"><code>vignettes/01-introduction.Rmd</code></a></small>
      <div class="d-none name"><code>01-introduction.Rmd</code></div>
    </div>

    
    
<p><img src="../reference/figures/logo.png" align="right" height="139"></p>
<div class="section level2">
<h2 id="introduction-to-mllmcelltype">Introduction to mLLMCelltype<a class="anchor" aria-label="anchor" href="#introduction-to-mllmcelltype"></a>
</h2>
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>mLLMCelltype is an iterative multi-LLM consensus framework for cell
type annotation in single-cell RNA sequencing data. By leveraging the
complementary strengths of multiple large language models, this
framework significantly improves annotation accuracy while providing
transparent uncertainty quantification.</p>
<p>The package implements a novel approach where multiple large language
models (LLMs) collaborate through structured deliberation to achieve
more accurate and reliable cell type annotations than any single model
could provide alone.</p>
</div>
<div class="section level3">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h3>
<p>Cell type annotation is a critical step in single-cell RNA sequencing
(scRNA-seq) analysis. Traditional methods often rely on reference
datasets or marker gene databases, which can be limited by the
availability of high-quality references and the complexity of cell types
across different tissues and conditions.</p>
<p>Large language models have shown promising results in cell type
annotation by leveraging their extensive knowledge of biological
literature and ability to reason about gene expression patterns.
However, individual LLMs can produce hallucinations or make errors due
to limitations in their training data or reasoning capabilities.</p>
<p>mLLMCelltype addresses these challenges by implementing a
consensus-based approach where multiple LLMs collaborate to provide more
reliable annotations.</p>
</div>
<div class="section level3">
<h3 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h3>
<div class="section level4">
<h4 id="multi-llm-consensus-architecture">Multi-LLM Consensus Architecture<a class="anchor" aria-label="anchor" href="#multi-llm-consensus-architecture"></a>
</h4>
<p>mLLMCelltype harnesses collective intelligence from diverse LLMs to
overcome single-model limitations and biases. The package currently
supports a wide range of models:</p>
<ul>
<li>OpenAI GPT-4o/4.1</li>
<li>Anthropic Claude-3.7/3.5</li>
<li>Google Gemini-2.0/2.5</li>
<li>X.AI Grok-3</li>
<li>DeepSeek-V3</li>
<li>Alibaba Qwen2.5</li>
<li>Zhipu GLM-4</li>
<li>MiniMax</li>
<li>Stepfun</li>
<li>OpenRouter</li>
</ul>
<p>By integrating multiple models with different architectures and
training data, mLLMCelltype can achieve more robust and accurate
annotations than any single model.</p>
</div>
<div class="section level4">
<h4 id="structured-deliberation-process">Structured Deliberation Process<a class="anchor" aria-label="anchor" href="#structured-deliberation-process"></a>
</h4>
<p>The package enables LLMs to share reasoning, evaluate evidence, and
refine annotations through multiple rounds of collaborative discussion.
This structured deliberation process includes:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Initial independent annotation</strong> by each LLM</li>
<li>
<strong>Identification of controversial clusters</strong> where
models disagree</li>
<li>
<strong>Structured discussion</strong> where models share their
reasoning and evaluate others’ arguments</li>
<li>
<strong>Consensus formation</strong> through iterative
refinement</li>
</ol>
<p>This process mimics how a panel of human experts might collaborate to
reach a consensus on difficult cases.</p>
</div>
<div class="section level4">
<h4 id="transparent-uncertainty-quantification">Transparent Uncertainty Quantification<a class="anchor" aria-label="anchor" href="#transparent-uncertainty-quantification"></a>
</h4>
<p>mLLMCelltype provides quantitative metrics to identify ambiguous cell
populations that may require expert review:</p>
<ul>
<li>
<strong>Consensus Proportion</strong>: Measures the level of
agreement among LLMs</li>
<li>
<strong>Shannon Entropy</strong>: Quantifies the uncertainty in the
annotations</li>
</ul>
<p>These metrics help researchers identify which cell clusters have high
confidence annotations and which may require further investigation.</p>
</div>
<div class="section level4">
<h4 id="other-advanced-features">Other Advanced Features<a class="anchor" aria-label="anchor" href="#other-advanced-features"></a>
</h4>
<ul>
<li>
<strong>Hallucination Reduction</strong>: Cross-model deliberation
actively suppresses inaccurate or unsupported predictions</li>
<li>
<strong>Robust to Input Noise</strong>: Maintains high accuracy even
with imperfect marker gene lists</li>
<li>
<strong>Hierarchical Annotation Support</strong>: Optional extension
for multi-resolution analysis</li>
<li>
<strong>No Reference Dataset Required</strong>: Performs accurate
annotation without pre-training or reference data</li>
<li>
<strong>Complete Reasoning Chains</strong>: Documents the full
deliberation process</li>
<li>
<strong>Seamless Integration</strong>: Works directly with standard
Scanpy/Seurat workflows</li>
<li>
<strong>Modular Design</strong>: Easily incorporate new LLMs as they
become available</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="applicable-scenarios">Applicable Scenarios<a class="anchor" aria-label="anchor" href="#applicable-scenarios"></a>
</h3>
<p>mLLMCelltype is designed for a wide range of single-cell RNA
sequencing analysis scenarios:</p>
<ul>
<li>
<strong>Novel tissue types</strong> where reference datasets may be
limited</li>
<li><strong>Rare or poorly characterized cell populations</strong></li>
<li>
<strong>Complex tissues</strong> with many similar cell types</li>
<li>
<strong>Integrative analysis</strong> across multiple datasets</li>
<li>
<strong>Quality control</strong> to validate annotations from other
methods</li>
</ul>
</div>
<div class="section level3">
<h3 id="latest-updates">Latest Updates<a class="anchor" aria-label="anchor" href="#latest-updates"></a>
</h3>
<div class="section level4">
<h4 id="v1-1-4-2025-04-24">v1.1.4 (2025-04-24)<a class="anchor" aria-label="anchor" href="#v1-1-4-2025-04-24"></a>
</h4>
<div class="section level5">
<h5 id="bug-fixes">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes"></a>
</h5>
<ul>
<li>Fixed a critical issue with cluster index handling, now the package
strictly accepts only 0-based indices (compatible with Seurat)</li>
<li>Fixed negative index (-1) issues that could occur when processing
CSV input files</li>
<li>Added strict validation for input cluster indices to ensure they
start from 0</li>
</ul>
</div>
<div class="section level5">
<h5 id="improvements">Improvements<a class="anchor" aria-label="anchor" href="#improvements"></a>
</h5>
<ul>
<li>Removed automatic conversion logic from 1-based to 0-based
indices</li>
<li>Added input validation to ensure cluster indices start from 0</li>
<li>Updated code comments for clarity</li>
</ul>
<p>For a complete list of updates, please refer to the <a href="../NEWS.html">NEWS.md</a> file.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<p>To get started with mLLMCelltype, please refer to the <a href="02-installation.html">Installation Guide</a> and <a href="03-getting-started.html">Quick Start Guide</a>.</p>
</div>
<div class="section level3">
<h3 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h3>
<p>If you use mLLMCelltype in your research, please cite:</p>
<pre><code>Yang, C., Zhang, X., &amp; Chen, J. (2025). Large Language Model Consensus Substantially 
Improves the Cell Type Annotation Accuracy for scRNA-seq Data. bioRxiv. 
https://doi.org/10.1101/2025.04.10.647852</code></pre>
</div>
<div class="section level3">
<h3 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h3>
<ul>
<li>
<a href="02-installation.html">Installation Guide</a>: Learn how to
install and configure mLLMCelltype</li>
<li>
<a href="03-getting-started.html">Quick Start Guide</a>: Get started
with basic usage examples</li>
<li>
<a href="04-usage-tutorial.html">Usage Tutorial</a>: Explore
detailed usage scenarios</li>
<li>
<a href="05-consensus-principles.html">Consensus Annotation
Principles</a>: Understand the technical principles</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chen Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1. <br>© 2024 Chen Yang</p>
</div>

    </footer>
</div>





  </body>
</html>
